(()=>{const e=document.querySelector(".nav");if(e){const t=e.querySelector(".nav__toggle"),o=document.querySelector("body");t.addEventListener("click",()=>{e.classList.toggle("nav--active"),o.classList.toggle("overflow-hidden")})}let t=null,o=null;const n=document.querySelectorAll(".post");n&&n.forEach(e=>{const n=e.querySelector(".post__popup"),l=e.querySelector(".post__author"),r=e.querySelector(".tooltip"),s=Popper.createPopper(n,r);n.addEventListener("mouseenter",()=>{t=setTimeout(()=>{t=null,o=fetch("/user/"+l.textContent.trim()+"/popup").then(e=>e.text()).then(e=>{o=null,r.insertAdjacentHTML("beforeend",e),r.setAttribute("data-show",""),document.documentElement.clientWidth<768?s.setOptions({placement:"top"}):s.setOptions({placement:"right"}),s.setOptions(e=>({...e,modifiers:[...e.modifiers,{name:"eventListeners",enabled:!0}]})),s.update(),flask_moment_render_all()})},1e3)}),n.addEventListener("mouseleave",()=>{t?(clearTimeout(t),t=null):o?(o.abort(),o=null):(r.removeAttribute("data-show"),r.removeChild(r.lastChild),s.setOptions(e=>({...e,modifiers:[...e.modifiers,{name:"eventListeners",enabled:!1}]})))})})})();